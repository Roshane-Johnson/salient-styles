<!-- TODO: Add hide and show button for password field -->
<section
  class="grid min-h-screen bg-gradient-to-tr from-[#f64f59] via-[#c471ed] to-[#12c2e9]"
>
  <div
    class="bg-white shadow-lg self-center p-10 border border-gray-200 rounded-md mx-auto w-[40%]"
  >
    <h1 class="font-bold text-lg mb-2 text-center">Create an Account</h1>
    <p class="mb-8 text-center">
      to instantly gain access to our collection of hand picked gradients
    </p>
    <form
      class="flex flex-col"
      [formGroup]="signUpForm"
      (ngSubmit)="createUser(signUpForm)"
    >
      <div class="grid grid-cols-2 gap-x-8 gap-y-1">
        <mat-form-field class="w-full mb-4">
          <mat-label>First Name</mat-label>
          <input
            type="text"
            formControlName="firstName"
            matInput
            placeholder="Enter a first name"
          />
        </mat-form-field>
        <mat-form-field class="w-full mb-4">
          <mat-label>Last Name</mat-label>
          <input
            type="text"
            formControlName="lastName"
            matInput
            placeholder="Enter a last name"
          />
        </mat-form-field>
        <mat-form-field class="w-full mb-4 col-span-2">
          <mat-label>Username</mat-label>
          <input type="text" formControlName="username" matInput />
          <mat-error *ngIf="username?.hasError('required')">
            <span>Please enter a username.</span>
          </mat-error>
          <mat-error *ngIf="username?.hasError('pattern')">
            Recheck your username
          </mat-error>
        </mat-form-field>
        <mat-form-field class="w-full mb-4 col-span-2">
          <mat-label>Email</mat-label>
          <input
            type="email"
            formControlName="email"
            matInput
            placeholder="Enter your email address"
          />
          <mat-error *ngIf="email?.hasError('required')">
            <span>Please enter an email address.</span>
          </mat-error>
          <mat-error *ngIf="email?.hasError('pattern')">
            Please enter a valid email address.
          </mat-error>
        </mat-form-field>
        <mat-form-field class="w-full mb-14">
          <mat-label>Password</mat-label>
          <input
            type="password"
            formControlName="password"
            matInput
            placeholder="Enter your password"
            autocomplete="new-password"
          />
          <mat-error *ngIf="password?.hasError('required')">
            <span>Please enter a password.</span>
          </mat-error>
          <mat-error *ngIf="password?.hasError('minlength')">
            <span>Please enter atleat 8 characters.</span>
          </mat-error>
          <mat-hint>
            Salient Recommends a mix of letters, numbers, and or symbols
          </mat-hint>
        </mat-form-field>
        <mat-form-field class="w-full mb-14">
          <mat-label>Confirm Password</mat-label>
          <input
            type="password"
            formControlName="confirmPassword"
            matInput
            placeholder="Confirm your password"
            autocomplete="new-password"
          />
          <mat-error *ngIf="confirmPassword?.hasError('required')">
            <span>Please confirm your password.</span>
          </mat-error>
        </mat-form-field>
        <p class="mb-8 flex justify-end items-center text-xs col-span-2">
          <a href="#!" routerLink="/login" class="text-blue-600">
            Already have an account?
          </a>
        </p>
      </div>
      <button mat-flat-button color="primary" class="flex items-center">
        <svg
          *ngIf="fetchCompleted == false"
          class="animate-spin inline-block -ml-1 mr-3 h-5 w-5 text-gray-700"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
        >
          <circle
            class="opacity-25"
            cx="12"
            cy="12"
            r="10"
            stroke="currentColor"
            stroke-width="4"
          ></circle>
          <path
            class="opacity-75"
            fill="currentColor"
            d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
          ></path>
        </svg>
        <span>Create Account</span>
      </button>
      <mat-divider style="margin-bottom: 1rem; margin-top: 1rem"></mat-divider>
      <a href="/login" mat-stroked-button color="primary">Login</a>
      <!-- TODO: Add Google OAuth to login -->
      <!-- <p class="my-4 text-sm text-center">Or, continue with</p>
      <button mat-stroked-button color="primary">Google</button> -->
    </form>
  </div>
</section>
